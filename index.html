<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Will you be my Valentine?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg1:#ffd6e7;
  --bg2:#ffeef6;
  --card:#ffffffcc;
  --yes:#ff3b7a;
  --yesHover:#ff1f68;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,sans-serif;
  overflow:hidden;
}
.card{
  width:min(720px,92vw);
  padding:26px 22px;
  background:var(--card);
  border-radius:22px;
  text-align:center;
}
.button-zone{
  position:relative;
  width:100%;
  height:150px;
}
button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 24px;
  font-size:18px;
  font-weight:800;
  border-radius:999px;
  border:none;
  cursor:pointer;
}
#yesBtn{left:20%;background:var(--yes);color:#fff}
#noBtn{left:60%;background:#e5e7eb}
.result{display:none}
</style>
</head>

<body>

<audio id="romanticMusic" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8b3e1c6b8a.mp3" type="audio/mpeg">
</audio>

<main class="card">
  <h1>‚ù§Ô∏è Bubu Ji, Will you be my Valentine? ‚ù§Ô∏è</h1>

  <div class="button-zone" id="zone">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>

  <div class="result" id="result">
    <h2>YAY! üéâ</h2>
  </div>
</main>

<script>
const zone = document.getElementById("zone");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const result = document.getElementById("result");
const music = document.getElementById("romanticMusic");

/* ---------- NO BUTTON MOVE ---------- */
function moveNo(x,y){
  const z = zone.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();

  let nx = Math.random()*(z.width-b.width);
  let ny = Math.random()*(z.height-b.height);

  noBtn.style.left = nx+"px";
  noBtn.style.top = ny+"px";
}

/* desktop */
zone.addEventListener("mousemove",e=>{
  const b = noBtn.getBoundingClientRect();
  const d = Math.hypot(
    b.left + b.width/2 - e.clientX,
    b.top + b.height/2 - e.clientY
  );
  if(d<120) moveNo(e.clientX,e.clientY);
});

/* mobile */
zone.addEventListener("touchmove",e=>{
  const t = e.touches[0];
  moveNo(t.clientX,t.clientY);
});

/* ---------- YES CLICK ---------- */
yesBtn.addEventListener("click",()=>{
  result.style.display="block";

  music.currentTime = 0;
  music.volume = 0.7;
  music.play();

  confetti({
    particleCount:200,
    spread:120,
    origin:{y:0.6}
  });
});
</script>

</body>
</html>
